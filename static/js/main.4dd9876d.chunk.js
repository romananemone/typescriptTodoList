(this["webpackJsonpts-todo"]=this["webpackJsonpts-todo"]||[]).push([[0],{124:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c(19),n=c.n(r),o=c(22),i=c(2),s=c(134),d=c(132),j=c(126),l=c(133),u=c(1),b=function(e){var t=e.title,c=e.completed,a=e.id,r=e.startDate,n=e.endDate,o=e.timeSpent,i=e.removeTodoWrapper,b=e.toggleTodoWrapper,O=Object(l.a)().t;return Object(u.jsxs)(s.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(u.jsxs)(d.a,{className:"ms-2 me-auto",onClick:function(){return b(a)},children:[Object(u.jsx)(d.a.Check,{readOnly:!0,checked:c,type:"checkbox",label:t}),Object(u.jsx)("div",{children:r?"".concat(O("todos.startDate"),": ").concat(r):null}),Object(u.jsx)("div",{children:n?"".concat(O("todos.endDate"),": ").concat(n):null}),Object(u.jsx)("div",{children:o?"".concat(O("todos.timeSpent"),": ").concat(o):null})]}),Object(u.jsx)(j.a,{onClick:function(){return i(a)},variant:"outline-secondary",children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(u.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})},O=Object(a.memo)(b),h=c(127),p=c(128),f=c(73),m=c(6),x=c(130),v=function(e){var t=e.buttonText,c=e.title,r=e.handler,n=Object(a.useRef)(null),o=Object(l.a)().t,i=Object(a.useState)(!1),s=Object(m.a)(i,2),b=s[0],O=s[1],h=function(){O(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(j.a,{variant:"primary",onClick:function(){O(!0)},children:t}),Object(u.jsxs)(x.a,{show:b,onHide:h,size:"lg",centered:!0,children:[Object(u.jsx)(x.a.Header,{closeButton:!0,children:Object(u.jsx)(x.a.Title,{children:c})}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(d.a.Group,{className:"mb-3",children:Object(u.jsx)(d.a.Control,{ref:n,as:"textarea",rows:3})})})}),Object(u.jsxs)(x.a.Footer,{children:[Object(u.jsx)(j.a,{onClick:h,children:o("todos.cancel")}),Object(u.jsx)(j.a,{onClick:function(){var e,t=null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.value;t&&r(t),h()},children:o("todos.ok")})]})]})]})},g=function(e){var t=Object(l.a)().t,c=e.finishedTodos,a=e.inProgressTodos,r=e.addTodoWrapper,n=e.removeTodoWrapper,o=e.toggleTodoWrapper;return Object(u.jsxs)(h.a,{children:[Object(u.jsx)(p.a,{className:"m-3",children:Object(u.jsx)(f.a,{className:"d-flex justify-content-center",children:Object(u.jsx)("h1",{children:t("todos.title")})})}),Object(u.jsx)(p.a,{children:Object(u.jsx)(f.a,{className:"d-flex justify-content-center",children:Object(u.jsx)(v,{buttonText:t("todos.button"),title:t("todos.button"),handler:function(e){return r(e)}})})}),Object(u.jsxs)(p.a,{className:"m-3",children:[Object(u.jsx)(f.a,{children:Object(u.jsx)(s.a,{as:"ul",children:a.map((function(e){return Object(u.jsx)(O,Object(i.a)(Object(i.a)({},e),{},{removeTodoWrapper:n,toggleTodoWrapper:o}),e.id)}))})}),Object(u.jsx)(f.a,{children:Object(u.jsx)(s.a,{as:"ul",children:c.map((function(e){return Object(u.jsx)(O,Object(i.a)(Object(i.a)({},e),{},{removeTodoWrapper:n,toggleTodoWrapper:o}),e.id)}))})})]})]})},T=c(14),y=c(49),k=c.n(y),D=c(74),L=c(40),S=c(75),w=c.n(S),C=c(3),H=["startDate","endDate","timeSpent"],W=c(67);c(116);var A=function(e){return Object(i.a)(Object(i.a)({},e),{},{startDate:W().format("lll")})},N=function(e){e.startDate,e.endDate,e.timeSpent;var t=Object(C.a)(e,H);return A(t)},E=["userId"],I=w.a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),B=function(){return I.get("todos?_limit=10").then((function(e){var t=e.data;return t.map((function(e){e.userId;var t=Object(C.a)(e,E),c=Object(i.a)(Object(i.a)({},t),{},{completed:!1});return A(c)}))}))},R=Object(L.b)("todos/fetchStatus",Object(D.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),V=Object(L.c)({name:"todos",initialState:{isFetching:!1,todosList:[],todosArchive:[]},reducers:{addTodo:function(e,t){var c={id:function(e,t){if(0===e.length&&0===t.length)return 0;var c=e.map((function(e){return e.id})),a=t.map((function(e){return e.id}));return Math.max.apply(Math,Object(T.a)(c).concat(Object(T.a)(a)))}(e.todosList,e.todosArchive)+1,title:t.payload,completed:!1},a=A(c);return Object(i.a)(Object(i.a)({},e),{},{todosList:[].concat(Object(T.a)(e.todosList),[a])})},removeTodo:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{todosList:Object(T.a)(e.todosList.filter((function(e){return e.id!==t.payload}))),todosArchive:[].concat(Object(T.a)(e.todosArchive),Object(T.a)(e.todosList.filter((function(e){return e.id===t.payload}))))})},restoreTodo:function(e,t){var c=e.todosArchive.find((function(e){return e.id===t.payload})),a=N(c);return Object(i.a)(Object(i.a)({},e),{},{todosList:[].concat(Object(T.a)(e.todosList),[Object(i.a)(Object(i.a)({},a),{},{completed:!1})]),todosArchive:Object(T.a)(e.todosArchive.filter((function(e){return e.id!==t.payload})))})},toggleTodo:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{todosList:Object(T.a)(e.todosList.map((function(e){if(e.id===t.payload){if(e.completed)return Object(i.a)(Object(i.a)({},N(e)),{},{completed:!1});if(!e.completed)return Object(i.a)(Object(i.a)({},function(e){var t=W(e.startDate),c=W(),a=c.diff(t),r=W.duration(a).format("d [days], h [hours], m [minutes]"),n=c.format("lll");return Object(i.a)(Object(i.a)({},e),{},{endDate:n,timeSpent:r})}(e)),{},{completed:!0})}return e})))})}},extraReducers:function(e){e.addCase(R.pending,(function(e){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0})})).addCase(R.fulfilled,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,todosList:Object(T.a)(t.payload)})})).addCase(R.rejected,(function(e){return Object(i.a)({},e)}))}}),z=V.actions,M=z.addTodo,P=z.removeTodo,K=z.toggleTodo,F=z.restoreTodo,G=V.reducer,J=c(31),U=function(e){return e.todos.todosList},_=Object(J.a)(U,(function(e){return e.filter((function(e){return e.completed}))})),q=Object(J.a)(U,(function(e){return e.filter((function(e){return!e.completed}))})),Q=function(){var e=Object(o.c)((function(e){return e.todos.todosList})),t=Object(o.c)(_),c=Object(o.c)(q),r=Object(o.b)();Object(a.useEffect)((function(){0===e.length&&r(R())}),[]);return Object(u.jsx)(g,{finishedTodos:t,inProgressTodos:c,addTodoWrapper:function(e){r(M(e))},removeTodoWrapper:function(e){r(P(e))},toggleTodoWrapper:function(e){r(K(e))}})},X=c(76),Y=c(129),Z=function(e){var t=e.todosArchive,c=e.restoreTodoWrapper,r=Object(l.a)(),n=r.t,o=r.i18n,s=Object(a.useMemo)((function(){return t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:e.completed.toString(),restore:e.id})}))}),[t]),d=Object(a.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:n("archive.title"),accessor:"title"},{Header:n("archive.completed"),accessor:"completed"},{Header:n("archive.startDate"),accessor:"startDate"},{Header:n("archive.endDate"),accessor:"endDate"},{Header:n("archive.timeSpent"),accessor:"timeSpent"},{Header:n("archive.restore"),accessor:"restore",Cell:function(e){var t=e.value;return Object(u.jsx)(j.a,{onClick:function(){return c(t)},children:n("archive.restoreButton")})}}]}),[o.language]),b=Object(X.useTable)({columns:d,data:s}),O=b.getTableProps,h=b.getTableBodyProps,p=b.headerGroups,f=b.rows,m=b.prepareRow;return Object(u.jsx)("div",{className:"p-4",children:Object(u.jsxs)(Y.a,Object(i.a)(Object(i.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},O()),{},{children:[Object(u.jsx)("thead",{children:p.map((function(e){return Object(u.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps()),{},{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(i.a)(Object(i.a)({},h()),{},{children:f.map((function(e){return m(e),Object(u.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray",background:"papayawhip"},children:e.render("Cell")}))}))}))}))}))]}))})},$=function(){var e=Object(o.c)((function(e){return e.todos.todosArchive})),t=Object(o.b)();return Object(u.jsx)(Z,{todosArchive:e,restoreTodoWrapper:function(e){t(F(e))}})},ee=function(){var e=Object(l.a)().t;return Object(u.jsx)("h1",{className:"text-center",children:e("home.title")})},te=c(56),ce=c(9),ae=c(131),re=function(){var e=Object(a.useState)("/"),t=Object(m.a)(e,2),c=t[0],r=t[1],n=Object(ce.g)(),o=Object(ce.f)(),i=Object(l.a)().t;return Object(a.useEffect)((function(){switch(n.pathname){case"/todos":r("/todos");break;case"/table":r("/archive");break;default:r("/")}}),[o]),Object(a.useEffect)((function(){o.push(c)}),[c]),Object(u.jsxs)(ae.a,{variant:"pills",activeKey:c,onSelect:function(e){e&&r(e)},children:[Object(u.jsx)(ae.a.Item,{children:Object(u.jsx)(ae.a.Link,{eventKey:"/",children:i("navigation.home")})}),Object(u.jsx)(ae.a.Item,{children:Object(u.jsx)(ae.a.Link,{eventKey:"/todos",children:i("navigation.todos")})}),Object(u.jsx)(ae.a.Item,{children:Object(u.jsx)(ae.a.Link,{eventKey:"/archive",children:i("navigation.archive")})})]})},ne=function(){var e=Object(a.useState)("en"),t=Object(m.a)(e,2),c=t[0],r=t[1],n=Object(l.a)().i18n;return Object(a.useEffect)((function(){r("en")}),[]),Object(a.useEffect)((function(){var e;e=c,n.changeLanguage(e)}),[c]),Object(u.jsxs)(ae.a,{variant:"pills",activeKey:c,onSelect:function(e){e&&r(e)},children:[Object(u.jsx)(ae.a.Item,{children:Object(u.jsx)(ae.a.Link,{eventKey:"en",children:"EN"})}),Object(u.jsx)(ae.a.Item,{children:Object(u.jsx)(ae.a.Link,{eventKey:"ru",children:"RU"})})]})};var oe=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(te.a,{children:[Object(u.jsxs)("div",{className:"d-flex justify-content-around p-3",children:[Object(u.jsx)(re,{}),Object(u.jsx)(ne,{})]}),Object(u.jsxs)(ce.c,{children:[Object(u.jsx)(ce.a,{exact:!0,path:"/",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(ce.a,{exact:!0,path:"/todos",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(ce.a,{exact:!0,path:"/archive",children:Object(u.jsx)($,{})})]})]})})},ie=Object(L.a)({reducer:{todos:G}}),se=(c(123),c(58)),de=c(41),je=c(79);se.a.use(je.a).use(de.e).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:{navigation:{home:"Home",todos:"Todos",archive:"Archive"},home:{title:"Todo list with typescript, storybook, i18next, redux-toolkit"},todos:{title:"Todo List",button:"Add new todo",startDate:"Start date",endDate:"End date",timeSpent:"Time spent",placeholder:"Enter todo text",ok:"Ok",cancel:"Cancel"},archive:{title:"Title",completed:"Completed",startDate:"Start date",endDate:"End date",timeSpent:"Time spent",restore:"Restore from archive",restoreButton:"Restore"}}},ru:{translation:{navigation:{home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",todos:"\u0422\u043e\u0434\u043e",archive:"\u0410\u0440\u0445\u0438\u0432"},home:{title:"\u0422\u043e\u0434\u043e \u043b\u0438\u0441\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439 typescript, storybook, i18next, redux-toolkit"},todos:{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0434\u043e",button:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0434\u043e",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u043e \u0442\u043e\u0434\u043e",startDate:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",endDate:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f",timeSpent:"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",ok:"\u041e\u043a",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430"},archive:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d",startDate:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",endDate:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f",timeSpent:"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f",restore:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437 \u0430\u0440\u0445\u0438\u0432\u0430",restoreButton:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}}}}});se.a;n.a.render(Object(u.jsx)(o.a,{store:ie,children:Object(u.jsx)(oe,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.4dd9876d.chunk.js.map